

<!DOCTYPE html><!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]--><!--[if gt IE 8]><!-->
<html class="no-js" lang="en" dir="ltr">
<!--<![endif]-->
<head>
<meta charset="utf-8">
<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW)
		wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
    <title>Find the right CRA contact or telephone number - Canada.ca</title>

<meta content="width=device-width,initial-scale=1" name="viewport">
<meta name="description">
<!--[if gte IE 9 | !IE ]><!-->
<link href="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/assets/favicon.ico" rel="icon" type="image/x-icon">
<link rel="stylesheet" href="https://gc-proto.github.io/cra-contactus/GCWeb/css/theme.css">
<link rel="stylesheet" href="https://gc-proto.github.io/cra-contactus/GCWeb/css/custom.css">
<!--<![endif]-->
<!--[if lt IE 9]>
		<link href="./GCWeb/assets/favicon.ico" rel="shortcut icon" />

		<link rel="stylesheet" href="./GCWeb/css/ie8-theme.min.css" />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="./wet-boew/js/ie8-wet-boew.min.js"></script>
		<![endif]-->
<!--[if lte IE 9]>


		<![endif]-->
<noscript><link rel="stylesheet" href="./wet-boew/css/noscript.min.css" /></noscript>
</head>
<body class="page-type-nav" vocab="http://schema.org/" typeof="WebPage">
<ul id="wb-tphp">
<li class="wb-slc">
<a class="wb-sl" href="#wb-cont">Skip to main content</a>
</li>
<li class="wb-slc">
<a class="wb-sl" href="#wb-info">Skip to "About government"</a>
</li>
</ul>
<header>
<div id="wb-bnr" class="container">
<section id="wb-lng" class="text-right">
<h2 class="wb-inv">Language selection</h2>
<ul class="list-inline margin-bottom-none">
<li><a lang="fr" href="#">Français</a></li>
</ul>
</section>
<div class="row">
<div class="brand col-xs-5 col-md-4">
<a href="https://gc-proto.github.io/cra-contactus/scenarioA/en.html"><img src="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/assets/sig-blk-en.svg" alt=""><span class="wb-inv"> Government of Canada / <span lang="fr">Gouvernement du Canada</span></span></a>
</div>
<section id="wb-srch" class="col-lg-8 text-right">
<h2>Search</h2>
<form action="#" method="get" name="cse-search-box" role="search" class="form-inline">

  <style>

  button#wb-srch-sub a:visited {

  color: white !important;


  }


  button#wb-srch-sub a {

  color: white !important;


  }

  </style>
<div class="form-group">
<label for="wb-srch-q" class="wb-inv">Search Canada.ca</label>
<input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="34" maxlength="170" placeholder="Search Canada.ca">
<datalist id="wb-srch-q-ac">
</datalist>
</div>
<div class="form-group submit">
<button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub"><span class="glyphicon-search glyphicon"></span><span class="wb-inv">Search</span></button>
</div>
</form>
</section>
</div>
</div>
<nav class="gcweb-v2" typeof="SiteNavigationElement">
<div class="container">
<h2 class="wb-inv">Menu</h2>
<button type="button" aria-haspopup="true" aria-expanded="false"><span class="wb-inv">Main </span>Menu <span class="expicon glyphicon glyphicon-chevron-down"></span></button>
<ul role="menu" aria-orientation="vertical" data-ajax-replace="https://gc-proto.github.io/cra-contactus/ajax/sitemenu-v2-en.html">
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/jobs.html">Jobs and the workplace</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/immigration-citizenship.html">Immigration and citizenship</a></li>
<li role="presentation"><a role="menuitem" href="https://travel.gc.ca/">Travel and tourism</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/business.html">Business and industry</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/benefits.html">Benefits</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/health.html">Health</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/taxes.html">Taxes</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/environment.html">Environment and natural resources</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/defence.html">National security and defence</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/culture.html">Culture, history and sport</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/policing.html">Policing, justice and emergencies</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/transport.html">Transport and infrastructure</a></li>
<li role="presentation"><a role="menuitem" href="http://international.gc.ca/world-monde/index.aspx?lang=eng">Canada and the world</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/finance.html">Money and finances</a></li>
<li role="presentation"><a role="menuitem" href="https://www.canada.ca/en/services/finance.html">Science and innovation</a></li>
</ul>
</div>
</nav>
<nav id="wb-bc" property="breadcrumb">
<h2>You are here:</h2>
<div class="container">
<ol class="breadcrumb">
  <li><a href="https://gc-proto.github.io/cra-contactus/scenarioA/en.html">Canada.ca</a></li></li>
  <li><a href="https://gc-proto.github.io/cra-contactus/scenarioA/revenue-agency.html">Canada Revenue Agency</a></li>
  <li><a href='../contact-us.html'>Contact the Canada Revenue Agency</a></li>
</ol>
</div>
</nav>
</header>

<!-- class="gc-theme" is doing some weird stuff with the first h2... -->
<main property="mainContentOfPage" class="container">
<script>
document.addEventListener("DOMContentLoaded", function(){
 var id = getUrlParameter('line'); // (gets me URL parameters)
 var id = getUrlParameter('line2'); // (gets me URL parameters)
 var id = getUrlParameter('audience'); // (gets me URL parameters)
 console.log(line);
 console.log(line2);
 console.log(audience);

  //based on line, get phone number(s)
  //if multiple lines, add more expand collapses
  //configure checkboxes to work
  //based on the audience, get right login snippet



  answer = telephoneSnippet(line); //everything that is being appended in the answer (put together telephone snippet in separate function for reuse)


 $("#answer-content").append(answer);


});

function telephoneSnippet(line) {

}

  function getRecall(id, lang) {
     var base = 'http://healthycanadians.gc.ca/recall-alert-rappel-avis';
     var uri = base + '/api/' + id + '/' + lang;




     $.ajax({
         url:uri,
         type:'GET',
         Accept:"application/json",
         dataType: 'json',
         success:function(data){

           // check if title is weird CFIA thing
           //if (data.title).indexOf("title=") >0) {

           //} else {
          //   console.log(data.title);
          //   $("#toptitle").text(data.title);
           //}

           //set products array
           var products = [];
           console.log(products);
           console.log(data);
           productsCount = 0;
           descriptionText = "";
           var imagePan = [];
           //set panels...
           $.each(data.panels, function() {
             //get image array
             if (this.panelName === "images") {
               imagePan = (this.data);
               //var imagePanNum = this.index;
             } else if (this.panelName.substring(0, 7) === "product") {
               //get products
               products[productsCount] = (this);
               productsCount = productsCount + 1;
             } else if (this.panelName === "details") {
               //2 different patterns (so far) for description
               descriptionText = this.text;
               //remove the date???
             } else if (this.panelName === "cms_who_what_consumer") {
               $("#whattodo").append($.trim(this.text.substring(1, this.text.length - 2)).replace(/[\r\n|\r|\n]+/g, "<br /><br />"));
             } else if (this.panelName === "cms_reason_reason_recall") {
               console.log(this.text);
               descriptionText = this.text;
             }
           });
             //use ids to modify page
             console.log(data.title);
             $("#toptitle").append(data.title);
             $("#page-title").text(data.title + " - Canada.ca");

             categoryname = data.panels[0].text.substr(data.panels[0].text.indexOf("Category")+14,data.panels[0].text.indexOf("<",data.panels[0].text.indexOf("Category")+14)-(data.panels[0].text.indexOf("Category")+14));

               //if 2 category names, make 2 tags, with comma separation
             var categories = categoryname.split(', ');
             var categoryout = '<span style="text-decoration:none;">ᐸ </span>';
             console.log(categoryname);
             $.each(categories, function() {
               if (this.substr(0, 8) === "Allergen") {
                 //Subcategory
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Undeclared+' + this.substr(11, this.length-11).toLowerCase() + '">Undeclared ' + this.substr(11, this.length-11).toLowerCase() + '</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Microbiological") {
                 if (this.indexOf("E. coli") > 1) {
                   categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=E.%20coli">E. Coli</a><span style="text-decoration:none;">, </span>';
                 } else {
                   categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=' + this.substr(18, this.length-18) + '">' + this.substr(18, this.length-18) + '</a><span style="text-decoration:none;">, </span>';
                 }
               } else if (this.substr(0, 3) === "Car") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Other&fq_cat=Car>Cars</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "3 Wheel Car") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=3+Wheel+Car"&fq_cat=Car>3 Wheel Cars</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Minivan") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Minivan&fq_cat=Car>Minivans</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "SUV") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=SUV&fq_cat=Car>SUVs</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Med. & H.D.") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Med.+%26+H.D.&fq_cat=Truck>Medium and heavy duty vehicles</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Light Truck & Van") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Light+Truck+%26+Van&fq_cat=Truck>SUVs</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "RV Chassis") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=RV+Chassis&fq_cat=Truck>RV chassis</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Chassis Cab") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Chassis+Cab&fq_cat=Truck>Chassis cabs</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Motorhome") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Motorhome&fq_cat=Trailer%2FRV>Motorhomes</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Travel Trailer") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Travel+Trailer&fq_cat=Trailer%2FRV>Travel trailers</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Light Trailer") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Light+Trailer&fq_cat=Trailer%2FRV>Light trailers</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Heavy Trailer") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Heavy+Trailer&fq_cat=Trailer%2FRV>Heavy trailers</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Bus") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Other"&fq_cat=Bus>Buses</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Snowmobile") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Other"&fq_cat=Snowmobile>Snowmobiles</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Snowmobile Cutter") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Snowmobile+Cutter&fq_cat=Snowmobile>Snowmobile cutters</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Child Car Seat") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Child+Car+Seat&fq_cat=Car+seats>Child car seats</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Booster Seat") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Booster+Seat&fq_cat=Car+seats>Booster seats</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Motorcycle") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Other"&fq_cat=Motorcycle>Motorcycles</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Minibike/ Moped /Scooter") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Minibike%2F+Moped%2F+Scooter&fq_cat=Motorcycle>Minibikes, mopeds and scooters</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "Low Speed Motorcycle") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=Low+Speed+Motorcycle&fq_cat=Motorcycle>Low speed motorcycles</a><span style="text-decoration:none;">, </span>';
               } else if (this.substr(0, 15) === "3 Wheel Motorcycle") {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=scat&cdn=rasf&q=*&fq_scat=3+Wheel+Motorcycle&fq_cat=Motorcycle>3 wheel motorcycles</a><span style="text-decoration:none;">, </span>';
               } else {
                 categoryout = categoryout + '<a href="http://search-recherche.gc.ca/rGsPreview/s_r?st=s&s5bm3ts21rch=x&num=10&st1rt=0&langs=eng&dspl=cat&cdn=rasf&q=*&fq_cat=' + categoryname + '">' + categoryname + '</a><span style="text-decoration:none;">, </span>';
               }
             });
             categoryout = categoryout.substr(0, categoryout.length-45);
             console.log(categoryout);
             $("#category-tag").append(categoryout);
             //add the car subcategories to the if clauses...

             //if "brand name" section in product array, use threatening
             //else "companies" else "distributors"

             console.log(products);
             brandCount = 0;
             var brands = [];

             //Do the brand labels here match the search filter brands?
             //Do a similar search string replacement as in the categories


              $.each(products, function() {
                console.log(this.text.indexOf("Distributor"));
                if (this.text.indexOf("Brand name:") >-1) {
                  //if this does not match a previously added brand, then include
                  if (jQuery.inArray($.trim(this.text.substr(this.text.indexOf("Brand name:")+16, this.text.indexOf("<", this.text.indexOf("Brand name:")+16) - (this.text.indexOf("Brand name:")+16))), brands) === -1) {
                    brands[brandCount] = ($.trim(this.text.substr(this.text.indexOf("Brand name:")+16, this.text.indexOf("<", this.text.indexOf("Brand name:")+16) - (this.text.indexOf("Brand name:")+16))));
                    brandCount = brandCount + 1;
                  }
                } else if (this.text.indexOf("Distributor") >-1) {
                  if (jQuery.inArray($.trim(this.text.substr(this.text.indexOf("Distributor")+20, this.text.indexOf("<", this.text.indexOf("Distributor")+20) - (this.text.indexOf("Distributor:")+20))), brands) === -1) {
                    brands[brandCount] = ($.trim(this.text.substr(this.text.indexOf("Distributor")+20, this.text.indexOf("<", this.text.indexOf("Distributor")+20) - (this.text.indexOf("Distributor")+20))));
                    brandCount = brandCount + 1;
                  }
                } else if (this.text.indexOf("Manufacturer") >-1) {
                  if (jQuery.inArray($.trim(this.text.substr(this.text.indexOf("Manufacturer")+21, this.text.indexOf("<", this.text.indexOf("Manufacturer")+21) - (this.text.indexOf("Manufacturer:")+21))), brands) === -1) {
                    brands[brandCount] = ($.trim(this.text.substr(this.text.indexOf("Manufacturer")+21, this.text.indexOf("<", this.text.indexOf("Manufacturer")+21) - (this.text.indexOf("Manufacturer")+21))));
                    brandCount = brandCount + 1;
                  }
                }
              });
              console.log(brands.length);

              //Brands under title - only if less than 5 of them, else blank
              newbrand = "";
              if (brands.length < 5) {
                $.each(brands, function(index, value) {
                  if (value != null && value != "") {
                    newbrand = newbrand + value + ", "; // get this from the products array (brand name)
                  }
                });
                newbrand = newbrand.substr(0, newbrand.length - 2);
                console.log(newbrand);
                $("#brand-link").append(newbrand);
              }


             //Start date
             //console.log(data.start_date.getFullYear()); //1527552000 1526601600
             console.log(Date(data.start_date).indexOf("201") + 1);
             // date if true
             console.log((Date(data.start_date).substr(4, Date(data.date_published).indexOf("201")-5) + ", " + Date(data.date_published).substr(Date(data.date_published).indexOf("201"), 4)));
             // date if not true
             console.log((Date(data.start_date).substr(4, Date(data.date_published).indexOf("200")-5) + ", " + Date(data.date_published).substr(Date(data.date_published).indexOf("200"), 4)));
             //console.log(data.panels[4].data["0"] != null);


             const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
             var startdate = new Date(data.start_date * 1000);
             console.log(startdate.getFullYear());
             console.log(monthNames[startdate.getMonth()]);
             displaydate = monthNames[startdate.getMonth()] + " " + startdate.getDate() + ", " + startdate.getFullYear();
             //if (Date(data.date_published).indexOf("201") >0) {
              $("#recall-date").text(displaydate);
             /*} else if (Date(data.date_published).indexOf("200") >0) {
               $("#recall-date").text(Date(data.date_published).substr(4, Date(data.date_published).indexOf("200")-5) + ", " + Date(data.date_published).substr(Date(data.date_published).indexOf("200"), 4));
             } else if (Date(data.date_published).indexOf("199") >0) {
               $("#recall-date").text(Date(data.date_published).substr(4, Date(data.date_published).indexOf("199")-5) + ", " + Date(data.date_published).substr(Date(data.date_published).indexOf("199"), 4));
             }*/

             //Add carousel if > 1 image, else just image
             if (imagePan["0"] != null) {
               /*if (imagePan["1"] != null) {
                 //$("#carousel-images").data('owlCarousel').destroy()
                 //$('#carousel-images').empty();
                 //for each image array in imagePan
                  carouselImages = "";
                  $.each(imagePan, function() {
                    carouselImages = carouselImages + '<div class="item"><img src="http://healthycanadians.gc.ca' + this.fullUrl  + '" ></div>';
                  });

                 $("#carousel-images").append('<div id="carousel" class="owl-carousel">' + carouselImages + '</div>');
                } else {*/
                 $("#carousel-images").append('<img id="identifying-image" style="max-width: 250px;" src="' + 'http://healthycanadians.gc.ca' + imagePan["0"].fullUrl  + '" />');
                //}
              }
              //initializeOwlCarousel();

             //description
             console.log(descriptionText === "" && products["0"].text.substring(0, 1) != "<");
             console.log(products["0"].text != null);
             if (descriptionText === "" && products["0"].text.substring(0, 1) != "<") {
               descriptionText = products["0"].text.substr(products["0"].text.indexOf("Product description:")+25, (products["0"].text.indexOf("Hazard identified:")-8) - (products["0"].text.indexOf("Product description:")+25));
             } else if (descriptionText === "") {
               //no description
               $("#descriptionheader").remove();
             }
             console.log($.trim(descriptionText.substring(0, 1)));
             if ($.trim(descriptionText.substring(0, 1)) === "<") {
               $("#description").append($.trim(descriptionText.substring(descriptionText.indexOf(">", descriptionText.indexOf(">") + 1) + 1, descriptionText.length - descriptionText.indexOf(">", descriptionText.indexOf(">") + 1))));
             } else {
               $("#description").append($.trim(descriptionText));
             }

             if (products.length > 1) {
               //many products - make table


  /*Brand name:</b> Love Child Organics<BR/>
  Common name:</b> Vegetarian Chili with Sweet Potato + Kale<BR/>
  Size:</b> <span class="nowrap">128 <abbr title="millilitres">ml</abbr></span><BR/>
  Code(s) on product:</b> All Best Before  dates up to and including 2019<abbr title="May">MA</abbr>25<BR/>
  UPC:</b> 85886000170<BR/>"
  */

               //for each <b> in product_1
               console.log(products);
               var tableHead = products["0"].text.split('<b>');
               productTable = '<p>Look up your serial number to see if your product is affected:</p><table id="myTable" text-align=Top><thead><tr>';
               $.each(tableHead, function(index) {
                 if (tableHead[index] !== "") {
                   productTable = productTable + '<th scope="col">' + tableHead[index].substr(0, tableHead[index].indexOf("<")-1) + '</th>';
                 }
               });
               productTable = productTable + '</tr></thead><tbody>';
               var productText = {}
               $.each(products, function(index) {
                 productText[index] = products[index].text.split('<b>');
                 productTable = productTable + '<tr valign="top">';
                 $.each(productText[index], function(name) {
                   if (productText[index][name] !== "") {
                     productTable = productTable + '<td data-label="' + tableHead[name].substr(0, tableHead[name].indexOf("<")-1) + '">' + productText[index][name].substr(productText[index][name].indexOf("<")+4, productText[index][name].length - productText[index][name].indexOf("<")+4) + '</td>';
                   }
                 });
                 productTable = productTable + '</tr>';
               });
               productTable = productTable + '</tbody></table>';
               console.log(productTable);
               //for each product
                //add product details to table

               //append
               $("#affected").append(productTable);
               //$("#myTable").append(tableHead + tableBody);
               makeTable();



             } else {
               //only 1 product - add each as section?
               var tableHead = products["0"].text.split('<b>');
               $.each(tableHead, function(name) {
                 if (tableHead[name] !== "") {
                   console.log(tableHead[name]);
                   $("#affected").append('<h3>' + tableHead[name].substr(0, tableHead[name].indexOf("<")-1).replace(/[\r\n|\r|\n]+/g, "<br /><br />") + '</h3>');
                   console.log($.trim(tableHead[name].substr(tableHead[name].indexOf("<")+4, 1)));
                   if ($.trim(tableHead[name].substr(tableHead[name].indexOf("<")+4, 1)) === "<") { ///[\r\n|\r|\n]/
                     $("#affected").append('<p>' + $.trim(tableHead[name].substr(tableHead[name].indexOf("<")+9, tableHead[name].length - tableHead[name].indexOf("<")+7)).replace(/[\r\n|\r|\n]+/g, "<br /><br />") + '</p>');
                   } else if (tableHead[name].indexOf("<table>") > -1) {
                     //add mobile table headings
                     tableHead[name] = tableHead[name].replace("<table>", "<div>").replace("</table>", "</div>")

                     $("#affected").append('<p>' + $.trim(tableHead[name].substr(tableHead[name].indexOf("<")+5, tableHead[name].length - tableHead[name].indexOf("<")+3)) + '</p>');
                   } else {
                     $("#affected").append('<p>' + $.trim(tableHead[name].substr(tableHead[name].indexOf("<")+5, tableHead[name].length - tableHead[name].indexOf("<")+3)).replace(/[\r\n|\r|\n]+/g, "<br /><br />") + '</p>');
                   }
                 }
               });
             }



              //what you should do (includes contact???)

            //do we put anything else? - delete rest

         },
         error:function(error){
         },
     });
     return;
  };
  var getUrlParameter = function getUrlParameter(sParam) {
     var sPageURL = decodeURIComponent(window.location.search.substring(1)),
         sURLVariables = sPageURL.split('&'),
         sParameterName,
         i;
     for (i = 0; i < sURLVariables.length; i++) {
         sParameterName = sURLVariables[i].split('=');
         if (sParameterName[0] === sParam) {
             return sParameterName[1] === undefined ? true : sParameterName[1];
         }
     }
  };

  function initializeOwlCarousel() {
    $('.owl-carousel').owlCarousel({
      margin: 20,
      loop: true,
      items: 1,
      stagePadding: 50
    });
  };
  function makeTable() {
      $.noConflict();
      var table = $('#myTable').DataTable();
  };
  </script>

  <h1 property="name" id="wb-cont" dir="ltr">Find the right CRA contact or telephone number</h1>
<div><div class="panel panel-default"><p>To get help with your personal electronic accounts, call <strong>1-800-959-8281</strong>.</p> <p>Open Monday to Friday, 9 am to 9 pm local time during the extended tax season.</p><h2>Before you call</h2><p>To verify your identity, you'll need:</p><ul><li>Social Insurance Number</li><li>Full name and date of birth</li><li>Your complete address</li><li>Details from your account or an assessed return, notice of assessment, reassessment, or other tax document</li></ul></div><div><a href="find-contact.html" class="btn btn-default">Start again</a></div></div>

<div class="pagedetails">
<div class="row">
<div class="col-sm-6 col-md-5 col-lg-4">
<details class="brdr-0">
<summary class="btn btn-default text-center">Report a problem on this page</summary>
<div class="well row">
<div class="gc-rprt-prblm">
<div class="gc-rprt-prblm-frm gc-rprt-prblm-tggl">
<form action="#">
<fieldset>
<legend><span class="field-name">Please select all that apply: </span></legend>
<div class="checkbox">
<label for="problem1"><input type="checkbox" data-reveal="#broken" name="problem" value="Something is broken" id="problem1">Something is broken</label>
</div>
<div class="form-group hide" id="broken">
<label for="problem1-detail">Provide more details (optional):</label>
<input type="text" class="form-control full-width" id="problem1-detail">
</div>
<div class="checkbox">
<label for="problem2"><input type="checkbox" data-reveal="#spelling" name="problem" value="It has spelling or grammar mistakes" id="problem2">The page has spelling or grammar mistakes</label>
</div>
<div class="form-group hide" id="spelling">
<label for="problem2-detail">Provide more details (optional):</label>
<input type="text" class="form-control full-width" id="problem2-detail">
</div>
<div class="checkbox">
<label for="problem3"><input type="checkbox" data-reveal="#wrong" name="problem" value="The information is wrong" id="problem3">The information is wrong</label>
</div>
<div class="form-group hide" id="wrong">
<label for="problem3-detail">Provide more details (optional):</label>
<input type="text" class="form-control full-width" id="problem3-detail">
</div>
<div class="checkbox">
<label for="problem4"><input type="checkbox" data-reveal="#outdated" name="problem" value="The information is outdated" id="problem4">The information is outdated</label>
</div>
<div class="form-group hide" id="outdated">
<label for="problem4-detail">Provide more details (optional):</label>
<input type="text" class="form-control full-width" id="problem4-detail">
</div>
<div class="checkbox">
<label for="problem5"><input type="checkbox" data-reveal="#find" name="problem" value="I can’t find what I’m looking for" id="problem5">I can’t find what I’m looking for</label>
</div>
<div class="form-group hide" id="find">
<label for="problem5-detail">Describe what you’re looking for (optional):</label>
<input type="text" class="form-control full-width" id="problem5-detail">
</div>
<div class="checkbox">
<label for="problem6"><input type="checkbox" data-reveal="#confusing" name="problem" value="It’s confusing" id="problem6">Other</label>
</div>
<div class="form-group hide" id="confusing">
<label for="problem6-detail">Provide more details (optional):</label>
<input type="text" class="form-control full-width" id="problem6-detail">
</div>
</fieldset>
<button type="submit" class="btn btn-primary wb-toggle" data-toggle='{"stateOff": "hide", "stateOn": "show", "selector": ".gc-rprt-prblm-tggl"}'>Submit</button>
</form>
</div>
<div class="gc-rprt-prblm-thnk gc-rprt-prblm-tggl hide">
<h3>Thank you for your help!</h3>
<p>You will not receive a reply. For enquiries, please <a href="https://www.canada.ca/en/contact.html">contact us</a>.</p>
</div>
</div>
</div>
</details>
</div>
<div class="wb-share col-sm-4 col-md-3 col-sm-offset-2 col-md-offset-4 col-lg-offset-5" data-wb-share='{"lnkClass": "btn btn-default btn-block"}'></div>
</div>
<dl id="wb-dtmd">
<dt>Date modified:&#32;</dt>
<dd><time property="dateModified">2018-01-15</time></dd>
</dl>
</div>
</main>
<footer id="wb-info">
<div class="landscape">
<nav class="container wb-navcurr">
<h2 class="wb-inv">About government</h2>
<ul class="list-unstyled colcount-sm-2 colcount-md-3">
<li><a href="../contact-us.html">Contact us</a></li>
<li><a href="https://www.canada.ca/en/government/dept.html">Departments and agencies</a></li>
<li><a href="https://www.canada.ca/en/government/publicservice.html">Public service and military</a></li>
<li><a href="https://www.canada.ca/en/news.html">News</a></li>
<li><a href="https://www.canada.ca/en/government/system/laws.html">Treaties, laws and regulations</a></li>
<li><a href="https://www.canada.ca/en/transparency/reporting.html">Government-wide reporting</a></li>
<li><a href="https://pm.gc.ca/eng">Prime Minister</a></li>
<li><a href="https://www.canada.ca/en/government/system.html">How government works</a></li>
<li><a href="https://open.canada.ca/en/">Open government</a></li>
</ul>
</nav>
</div>
<div class="brand">
<div class="container">
<div class="row">
<nav class="col-md-9 col-lg-10 ftr-urlt-lnk">
<h2 class="wb-inv">About this site</h2>
<ul>
<li><a href="https://www.canada.ca/en/social.html">Social media</a></li>
<li><a href="https://www.canada.ca/en/mobile.html">Mobile applications</a></li>
<li><a href="https://www1.canada.ca/en/newsite.html">About Canada.ca</a></li>
<li><a href="https://www.canada.ca/en/transparency/terms.html">Terms and conditions</a></li>
<li><a href="https://www.canada.ca/en/transparency/privacy.html">Privacy</a></li>
</ul>
</nav>
<div class="col-xs-6 visible-sm visible-xs tofpg">
<a href="#wb-cont">Top of Page <span class="glyphicon glyphicon-chevron-up"></span></a>
</div>
<div class="col-xs-6 col-md-3 col-lg-2 text-right">
  <img src="https://wet-boew.github.io/themes-dist/GCWeb/GCWeb/assets/wmms-blk.svg" alt="Symbol of the Government of Canada">
  </div>
  </div>
  </div>
  </div>
  </footer>
  <!--[if gte IE 9 | !IE ]><!-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
  <script src="https://gc-proto.github.io/tax-filing-2/validation/en/assets/wb-fieldflow.min.js"></script>
  <script src="https://wet-boew.github.io/themes-dist/GCWeb/wet-boew/js/wet-boew.min.js"></script>
  <!--<![endif]-->
  <!--[if lt IE 9]>
  		<script src="./wet-boew/js/ie8-wet-boew2.min.js"></script>

  		<![endif]-->
  <script src="https://gc-proto.github.io/cra-contactus/GCWeb/js/theme.js"></script>
  <script src="https://gc-proto.github.io/cra-contactus/js/cannedsearch-querystring.js"></script>
</body>
</html>
